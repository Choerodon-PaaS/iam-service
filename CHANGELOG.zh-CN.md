# Changelog

这个项目的所有显著变化都将被记录在这个文件中。

## [0.6.0] - 2018-06-08

### 新增

- 组织层级校验`code`
- 角色分配和用户启用禁用发送事件，添加用户`id`字段
- 用户添加管理员字段，并添加设置管理员相关操作
- 管理员用户鉴权放行处理
- 添加根据用户`id`数组查询用户接口
- 添加个人中心修改密码和编辑信息功能
- 添加`ldap`同步的历史记录
- 添加`ldap`测试连接，测试登陆，属性匹配功能
- `ldap`同步支持匿名用户同步
- 添加了`ldap`启用禁用接口

### 修改
- 角色选权限的时候，不显示`loginAccess`和`publicAccess`接口
- 角色更新时，内置角色只可以修改`label`
- 优化了所有重名校验接口的逻辑
- 将`do`,`dto`,`entity`中所有`isEnabled`之类的字段修改为`enabled`字段，防止部分框架序列化异常
- 角色分配查询角色时关联多语言表
- 左侧菜单和菜单管理将之前用一个借口实现拆分为两个接口实现
- 根据`gateway`鉴权规则，修改所有不合规范的`url`
- 优化角色分配部分循环查询的代码
- 优化用户相关`DTO`
- ldap同步用户支持可配置方式同步
- 优化了接口的描述信息

### 修复

- 修复了客户端额外信息为空，无法保存的问题
- 修复了左侧菜单只能获取两层，无法获取三层菜单的问题
- 修复了角色打标签发事件，可能会导致标签不能全部发过去的问题
- 修复项目创建时，前端检验`code`不重复，但保存时报`code`重复的问题
- 修复了角色分配页面，可能查询出空用户的问题
- 修复了角色分配时，在新建界面给某用户添加角色会导致`gitlab`角色消失的问题
- 修复了角色编辑部分角色`name`显示为英文的问题

### 移除
- 移除了`RoleController`和`UserController`里面不符合`gateway`鉴权规则的角色分配相关的接口
- 模糊查询移除按多个参数查询的功能
